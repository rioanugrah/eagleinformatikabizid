import{q as U,r as a,j as e,y as z}from"./app-76c5cfd8.js";import{A as B}from"./appLayout-1fdaa5dc.js";import G from"./cardItem-94979ad6.js";import"./icon-5202eaf9.js";import"./IconCheck-153123e7.js";import"./XMarkIcon-2f97d91b.js";import"./index-19a0fe69.js";import"./label-0a066e01.js";import"./dialog-0eac0517.js";import"./floating-ui.react-dom-9f4d86ed.js";import"./menuadministrator-e76c4dfd.js";import"./menuUser-3ba069a7.js";import"./logo_eagle_media_informatika-285b6851.js";function H(l,{initialItems:v}){const{errors:r,auth:K}=U().props,[m,w]=a.useState(""),[u,C]=a.useState(""),[x,S]=a.useState(""),[g,F]=a.useState(""),[b,I]=a.useState(""),[y,_]=a.useState(""),[h,E]=a.useState(""),[p,P]=a.useState(""),[f,A]=a.useState(""),[k,D]=a.useState(""),[L,j]=a.useState(!1),o=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t),O=l.invoice.invoice_details,[s,q]=a.useState(O||v);a.useState(0),a.useEffect(()=>{JSON.stringify(s)},[s]);const R=(t,d)=>{const Q=s.map(i=>i.id===t?{...i,quantity:d}:i);q(Q)},T="11%",c=s.reduce((t,d)=>t+d.quantity*d.amount,0),n=.11*c,N=c+n,J=t=>{t.preventDefault(),j(!0),z.post(route("order.buy.checkout",l.invoice.id),{invoice_id:l.invoice.id,items:s,firstName:m,lastName:u,email:x,company:g,address:b,city:y,country:h,state:p,postal_code:f,phone:k,tax:n,sub_total:N,status:"UNPAID"},{onFinish:d=>{j(!1),console.log(d)}})};return e.jsx("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-16 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"mx-auto max-w-2xl lg:max-w-none",children:[e.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Checkout"}),e.jsxs("form",{onSubmit:J,className:"lg:grid lg:grid-cols-2 lg:gap-x-12 xl:gap-x-16",children:[e.jsx("div",{children:e.jsxs("div",{className:"border-t border-gray-200 pt-10",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Shipping information"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"first-name",type:"text",value:m,onChange:t=>w(t.target.value),autoComplete:"first-name",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),r.firstName&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:r.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"last-name",type:"text",value:u,onChange:t=>C(t.target.value),autoComplete:"last-name",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),r.lastName&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:r.lastName})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",type:"email",value:x,onChange:t=>S(t.target.value),className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),r.email&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:r.email})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"company",type:"text",value:g,onChange:t=>F(t.target.value),className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),r.company&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:r.company})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"address",value:b,onChange:t=>I(t.target.value),type:"text",autoComplete:"street-address",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),r.address&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:r.address})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"city",type:"text",value:y,onChange:t=>_(t.target.value),autoComplete:"address-level2",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),r.city&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:r.city})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"country",value:h,onChange:t=>E(t.target.value),autoComplete:"country-name",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",children:[e.jsx("option",{children:"Select Country"}),e.jsx("option",{children:"English"}),e.jsx("option",{children:"Indonesia"})]})}),r.country&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:r.country})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"region",className:"block text-sm font-medium text-gray-700",children:"State / Province"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"region",type:"text",value:p,onChange:t=>P(t.target.value),autoComplete:"address-level1",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),r.state&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:r.state})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"postal-code",className:"block text-sm font-medium text-gray-700",children:"Postal code"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"postal-code",type:"text",value:f,onChange:t=>A(t.target.value),autoComplete:"postal-code",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),r.postal_code&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:r.postal_code})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"phone",type:"number",value:k,onChange:t=>D(t.target.value),autoComplete:"tel",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})}),r.phone&&e.jsx("p",{className:"mt-2 text-sm text-red-500 dark:text-red-400",children:r.phone})]})]})]})}),e.jsxs("div",{className:"mt-10 lg:mt-0",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Order Summary"}),e.jsxs("div",{className:"mt-4 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:s.map(t=>e.jsx(G,{...t,updateQty:R},t.id))}),e.jsxs("dl",{className:"space-y-6 border-t border-gray-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{className:"text-sm",children:"Subtotal"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:o(c)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("dt",{className:"text-sm",children:["Taxes ",T]}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:o(n)})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[e.jsx("dt",{className:"text-base font-medium",children:"Total"}),e.jsx("dd",{className:"text-base font-medium text-gray-900",children:o(N)})]})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6",children:L?e.jsx("button",{type:"button",className:"w-full rounded-md border border-transparent bg-indigo-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50",children:"Loading..."}):e.jsx("button",{type:"submit",className:"w-full rounded-md border border-transparent bg-indigo-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50",children:"Confirm Order"})})]})]})]})]})})}H.layout=l=>e.jsx(B,{title:"Order Cart",children:l});export{H as default};
