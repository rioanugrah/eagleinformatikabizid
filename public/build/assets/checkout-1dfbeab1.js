import{r as t,j as e,y as J}from"./app-86043265.js";import{A as Q}from"./appLayout-70b4c9f4.js";import U from"./cardItem-f30a71e2.js";import{R as $,V as z}from"./radio-group-bd84f075.js";import"./icon-a8bbe3c3.js";import"./IconCheck-dbf70cdd.js";import"./XMarkIcon-242c8c26.js";import"./index-bf645733.js";import"./label-c448ecbd.js";import"./dialog-f4ec9ad5.js";import"./floating-ui.react-dom-48a35572.js";import"./menuadministrator-7ef50f94.js";import"./menuUser-06cbc16f.js";import"./logo_eagle_media_informatika-285b6851.js";function G({title:a,titleId:n,...i},l){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":n},i),a?t.createElement("title",{id:n},a):null,t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z",clipRule:"evenodd"}))}const H=t.forwardRef(G),K=H;function W(a,{initialItems:n}){const i=a.channels,[l,C]=t.useState(i[0]),[g,S]=t.useState(""),[x,F]=t.useState(""),[b,_]=t.useState(""),[h,E]=t.useState(""),[f,I]=t.useState(""),[y,P]=t.useState(""),[p,R]=t.useState(""),[j,A]=t.useState(""),[k,M]=t.useState(""),[N,O]=t.useState(""),[D,v]=t.useState(!1),o=r=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(r),L=a.invoice.invoice_details,[d,q]=t.useState(L||n);t.useState(0),t.useEffect(()=>{JSON.stringify(d)},[d]);const T=(r,s)=>{const B=d.map(u=>u.id===r?{...u,quantity:s}:u);q(B)},V="11%",c=d.reduce((r,s)=>r+s.quantity*s.amount,0),m=.11*c,w=c+m,Z=r=>{r.preventDefault(),v(!0),J.post(route("order.buy.checkout",a.invoice.id),{invoice_id:a.invoice.id,items:d,firstName:g,lastName:x,email:b,company:h,address:f,city:y,country:p,state:j,postal_code:k,phone:N,method:l.code,tax:m,admin_fee:l.total_fee.flat,sub_total:w,status:"UNPAID"},{onFinish:s=>{v(!1),console.log(s)}})};return e.jsx("main",{className:"mx-auto max-w-7xl px-4 pb-24 pt-16 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"mx-auto max-w-2xl lg:max-w-none",children:[e.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Checkout"}),e.jsxs("form",{onSubmit:Z,className:"lg:grid lg:grid-cols-2 lg:gap-x-12 xl:gap-x-16",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"border-t border-gray-200 pt-10",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Shipping information"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first-name",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"first-name",type:"text",value:g,onChange:r=>S(r.target.value),autoComplete:"first-name",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last-name",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"last-name",type:"text",value:x,onChange:r=>F(r.target.value),autoComplete:"last-name",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"email",type:"email",value:b,onChange:r=>_(r.target.value),className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700",children:"Company"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"company",type:"text",value:h,onChange:r=>E(r.target.value),className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:"Address"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"address",value:f,onChange:r=>I(r.target.value),type:"text",autoComplete:"street-address",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"City"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"city",type:"text",value:y,onChange:r=>P(r.target.value),autoComplete:"address-level2",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:"Country"}),e.jsx("div",{className:"mt-1",children:e.jsxs("select",{id:"country",value:p,onChange:r=>R(r.target.value),autoComplete:"country-name",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",children:[e.jsx("option",{children:"Select Country"}),e.jsx("option",{children:"English"}),e.jsx("option",{children:"Indonesia"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"region",className:"block text-sm font-medium text-gray-700",children:"State / Province"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"region",type:"text",value:j,onChange:r=>A(r.target.value),autoComplete:"address-level1",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"postal-code",className:"block text-sm font-medium text-gray-700",children:"Postal code"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"postal-code",type:"text",value:k,onChange:r=>M(r.target.value),autoComplete:"postal-code",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{id:"phone",type:"number",value:N,onChange:r=>O(r.target.value),autoComplete:"tel",className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"})})]})]})]}),e.jsxs("div",{className:"mt-10 border-t border-gray-200 pt-10",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Payment Method"}),e.jsx("fieldset",{className:"mt-4",children:e.jsx($,{value:l,onChange:C,className:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-4",children:i.map((r,s)=>e.jsxs(z,{value:r,"aria-label":r.name,className:"group relative flex cursor-pointer rounded-lg border border-gray-300 bg-white p-4 shadow-sm focus:outline-none data-[checked]:border-transparent data-[focus]:ring-2 data-[focus]:ring-indigo-500",children:[e.jsx("span",{className:"flex flex-1",children:e.jsxs("span",{className:"flex flex-col",children:[e.jsx("img",{src:r.icon_url,className:"h-18 w-9"}),e.jsx("span",{className:"block text-sm font-medium text-gray-900",children:r.name}),e.jsx("span",{className:"mt-1 flex items-center text-sm text-gray-500",children:r.group}),e.jsx("span",{className:"mt-6 text-sm font-medium text-gray-900",children:o(r.total_fee.flat)})]})}),e.jsx(K,{"aria-hidden":"true",className:"h-5 w-5 text-indigo-600 [.group:not([data-checked])_&]:hidden"}),e.jsx("span",{"aria-hidden":"true",className:"pointer-events-none absolute -inset-px rounded-lg border-2 border-transparent group-data-[focus]:border group-data-[checked]:border-indigo-500"})]},r.code))})})]})]}),e.jsxs("div",{className:"mt-10 lg:mt-0",children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Order Summary"}),e.jsxs("div",{className:"mt-4 rounded-lg border border-gray-200 bg-white shadow-sm",children:[e.jsx("ul",{role:"list",className:"divide-y divide-gray-200",children:d.map(r=>e.jsx(U,{...r,updateQty:T},r.id))}),e.jsxs("dl",{className:"space-y-6 border-t border-gray-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{className:"text-sm",children:"Subtotal"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:o(c)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("dt",{className:"text-sm",children:["Taxes ",V]}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:o(m)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{className:"text-sm",children:"Admin Fee"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:o(l.total_fee.flat)})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6",children:[e.jsx("dt",{className:"text-base font-medium",children:"Total"}),e.jsx("dd",{className:"text-base font-medium text-gray-900",children:o(w)})]})]}),e.jsx("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6",children:D?e.jsx("button",{type:"button",className:"w-full rounded-md border border-transparent bg-indigo-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50",children:"Loading..."}):e.jsx("button",{type:"submit",className:"w-full rounded-md border border-transparent bg-indigo-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50",children:"Confirm Order"})})]})]})]})]})})}W.layout=a=>e.jsx(Q,{title:"Order Cart",children:a});export{W as default};
