import{r as d,j as e,y as i}from"./app-76c5cfd8.js";import{A as x}from"./appLayout-1fdaa5dc.js";import"./icon-5202eaf9.js";import"./IconCheck-153123e7.js";import"./XMarkIcon-2f97d91b.js";import"./index-19a0fe69.js";import"./label-0a066e01.js";import"./dialog-0eac0517.js";import"./floating-ui.react-dom-9f4d86ed.js";import"./menuadministrator-e76c4dfd.js";import"./menuUser-3ba069a7.js";import"./logo_eagle_media_informatika-285b6851.js";function g(s){const[u,a]=d.useState(!1),n=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t),o="11%",r=JSON.parse(s.billing.billing_buyer);d.useEffect(()=>{{const t="https://app.sandbox.midtrans.com/snap/snap.js",c="SB-Mid-client-o9XnRFm-597OCoz2",l=document.createElement("script");return l.src=t,l.setAttribute("data-client-key",c),l.async=!0,document.body.appendChild(l),()=>{document.body.removeChild(l)}}},[]);const m=async()=>{a(!0),window.snap.pay(s.billing.billing_references,{onSuccess:t=>{console.log("success"),alert("Payment Success"),i.get(route("dashboard")),a(!1)},onPending:t=>{console.log("pending transaction",t),alert("Payment Pending"),i.get(route("dashboard")),a(!1)},onError:t=>{console.log("error transaction",t),alert("Payment Error"),i.get(route("dashboard")),a(!1)},onClose:()=>{console.log("customer close the popup window without the finishing the payment"),alert("customer close the popup window without the finishing the payment"),i.get(route("dashboard")),a(!1)}})};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"relative lg:min-h-full",children:[e.jsx("div",{className:"h-80 overflow-hidden lg:absolute lg:h-full lg:w-1/2 lg:pr-4 xl:pr-12",children:e.jsx("img",{alt:"TODO",src:"https://tailwindui.com/img/ecommerce-images/confirmation-page-06-hero.jpg",className:"h-full w-full object-cover object-center"})}),e.jsx("div",{children:e.jsx("div",{className:"mx-auto max-w-2xl px-4 py-16 sm:px-6 sm:py-24 lg:grid lg:max-w-7xl lg:grid-cols-2 lg:gap-x-8 lg:px-8 lg:py-32 xl:gap-x-24",children:e.jsxs("div",{className:"lg:col-start-2",children:[e.jsx("h1",{className:"text-sm font-medium text-indigo-600",children:"Waiting Payment"}),e.jsx("p",{className:"mt-2 text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl",children:"Thanks for ordering"}),e.jsx("p",{className:"mt-2 text-base text-gray-500",children:"We appreciate your order, we’re currently processing it. So hang tight and we’ll send you confirmation very soon!"}),e.jsxs("dl",{className:"mt-16 text-sm font-medium",children:[e.jsx("dt",{className:"text-gray-900",children:"Tracking number"}),e.jsx("dd",{className:"mt-2 text-indigo-600",children:s.billing.billing_code})]}),e.jsx("ul",{className:"mt-6 divide-y divide-gray-200 border-t border-gray-200 text-sm font-medium text-gray-500",children:s.billing.invoice.invoice_details.map((t,c)=>e.jsxs("li",{className:"flex space-x-6 py-6",children:[e.jsx("div",{className:"flex-auto space-y-1",children:e.jsx("h3",{className:"text-gray-900",children:e.jsx("a",{children:t.item.split("|")[1]})})}),e.jsx("p",{className:"flex-none font-medium text-gray-900",children:n(t.amount)})]},t.id))}),e.jsxs("dl",{className:"space-y-6 border-t border-gray-200 pt-6 text-sm font-medium text-gray-500",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("dt",{children:["Taxes (",o,")"]}),e.jsx("dd",{className:"text-gray-900",children:n(s.billing.tax)})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6 text-gray-900",children:[e.jsx("dt",{className:"text-base",children:"Total"}),e.jsx("dd",{className:"text-base",children:n(s.billing.sub_total)})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-6 text-gray-900",children:[e.jsx("dt",{className:"text-base",children:"Status"}),s.billing.status=="UNPAID"?e.jsx("dd",{className:"text-base text-yellow-500",children:s.billing.status}):e.jsx("dd",{className:"text-base text-green-500",children:s.billing.status})]})]}),e.jsx("dl",{className:"mt-16 grid grid-cols-2 gap-x-4 text-sm text-gray-600",children:e.jsxs("div",{children:[e.jsx("dt",{className:"font-medium text-gray-900",children:"Shipping Address"}),e.jsx("dd",{className:"mt-2",children:e.jsxs("address",{className:"not-italic",children:[e.jsx("span",{className:"block",children:r.first_name+" "+r.last_name}),e.jsx("span",{className:"block",children:r.address}),e.jsx("span",{className:"block",children:r.email})]})})]})}),e.jsx("div",{className:"mt-16 border-t border-gray-200 py-6 text-right",children:e.jsx("button",{onClick:m,className:"text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 shadow-lg shadow-blue-500/50 dark:shadow-lg dark:shadow-blue-800/80 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2",children:"Pay Now"})})]})})})]})})}g.layout=s=>e.jsx(x,{title:"Payment",children:s});export{g as default};
